function e(e,t){if(null!==t)for(let s=0;s<t.length;s+=1)if(t[s].url===e.url)return!0}const t=[];function s(e){const s=document.querySelectorAll(".card-news__btn-like"),n=document.querySelectorAll(".card-news__add-to-favorite-btn"),a=document.querySelectorAll(".card-news__icon-like");s.forEach(((e,t)=>{let s=!1;e.addEventListener("click",(()=>{s?(n[t].textContent="Add to favorite",a[t].style.fill="",e.classList.remove("favorite"),s=!1):(n[t].textContent="Remove from favorite",a[t].style.fill="var(--color1, #4440f7)",e.classList.add("favorite"),s=!0)}))})),s.forEach(((s,n)=>{let a=!1;s.addEventListener("click",(()=>{if(a){const s=t.findIndex((t=>t.headline===e[n].headline));-1!==s&&(t.splice(s,1),localStorage.setItem("favoriteCards",JSON.stringify(t))),a=!1}else t.push({headline:e[n].headline,abstract:e[n].abstract,category:e[n].category,pub_date:e[n].pub_date,photo:e[n].photo,url:e[n].url}),localStorage.setItem("favoriteCards",JSON.stringify(t)),a=!0}))}))}function n(e){return e.map((e=>`<li class="card-news__item">\n <img class="card-news__img" src="${e.photo}" alt="" loading="lazy" />\n <span class="card-news__categories">${e.category}</span>\n <button class="card-news__btn-like">\n   <span class="card-news__add-to-favorite-btn"\n     >Add to favorite\n   </span>\n   <svg\n       class="card-news__icon-like"\n       width="16"\n       height="16"\n       viewBox="0 0 37 32"\n     >\n       <path\n         style="stroke: var(--color1, #4440f7)"\n         stroke-linejoin="round"\n         stroke-linecap="round"\n         stroke-miterlimit="4"\n         stroke-width="2.2857"\n         d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n       ></path>\n     </svg>\n </button>\n <div class="card-news__wrapper">\n   <h3 class="card-news__caption">${e.headline}</h3>\n   <p class="card-news__text">${e.abstract}</p>\n </div>\n <div class="card-news__box">\n   <span class="card-news__time">${e.pub_date}</span>\n   <a class="card-news__link" target="_blank" href="${e.url}">Read more</a>\n </div>\n </li>`)).join("")}const a=document.querySelector(".date-list-search"),l=document.querySelector(".date-list-search"),i=document.querySelector(".search-form"),o=document.querySelector(".search-input"),r=document.querySelector(".undefined"),d=JSON.parse(localStorage.getItem("readCards"));const c=function(e=[],t){const s={};for(const n of e){const e=t(n);s[e]?s[e].push(n):s[e]=[n]}return s}(function(){if(null!==d)return d;r.style.display="block"}(),(e=>e.dayRead));var u,h;h=c,u=Object.keys(h).map((e=>`<li class="date-list__item">\n  <button class="date-list__btn"><span class="date-list__btn-text">${e}</span><span class="date-list__btn-block">\n  <svg class="date-list__btn-icon" width="14" height="9" aria-hidden="true" style="position: absolute;>\n<symbol id="icon-Vector-2-1" viewBox="0 0 50 32">\n<path d="M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class="list-news hidden">${n(h[e])}</ul>\n</li>`)).join(""),a.innerHTML=u;const _=document.querySelectorAll(".date-list__item");_[0].classList.add("hidden"),_.forEach((t=>{s(d);let n="",a="";e(t,JSON.parse(localStorage.getItem("favoriteCards")))?(a="favorite",n="Remove from favorite"):n="Add to favorite"})),a.addEventListener("click",(e=>{const t=e.target.closest(".date-list__btn");if(!t)return;const s=t.querySelector(".date-list__btn-block"),n=document.querySelector(".list-news");n.classList.contains("hidden")?(n.classList.remove("hidden"),s.classList.add("turn")):(n.classList.add("hidden"),s.classList.remove("turn")),t.nextElementSibling.classList.toggle("hidden")})),i.addEventListener("submit",(function(e){if(e.preventDefault(),""!==o.value.trim())return a.classList.add("hidden"),r.style.display="block",l.classList.add("hidden"),void(f=[]);a.classList.remove("hidden"),r.style.display="none",l.classList.remove("hidden");const t=o.value.toLowerCase();for(let e=0;e<d.length;e+=1){let s=d[e];(s.abstract.toLowerCase().includes(t)||s.headline.toLowerCase().includes(t)||s.category.toLowerCase().includes(t)||s.category.toLowerCase()===t)&&f.push(s)}if(0===f.length)return a.classList.add("hidden"),l.classList.add("hidden"),r.style.display="block",void(f=[]);r.style.display="none",a.classList.remove("hidden"),l.classList.remove("hidden");!function(e){l.innerHTML=e,f=[]}(n(f))}));let f=[];
//# sourceMappingURL=read.7ffc6944.js.map
