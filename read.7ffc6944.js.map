{"mappings":"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","sources":["src/JS/news/check-local-storage.js","src/JS/news/btn-favorite.js","src/JS/news/markup-of-card.js","src/JS/news/read.js"],"sourcesContent":["export function checkLokalStorage(elem, localArr) {\n  if (localArr === null) {\n    return;\n  }\n  for (let i = 0; i < localArr.length; i += 1) {\n    if (localArr[i].url === elem.url) {\n      return true;\n    }\n  }\n}\nexport function checkLokalArray(localArr) {\n  if (localArr === null) return;\n  else {\n    localStorage.setItem(\"favoriteCards\", JSON.stringify(localArr));\n  }\n}\n","import { checkLokalArray } from \"./check-local-storage\";\nexport const favoriteCards = [];\nexport function btnLike(newArray) {\n  const btnLike = document.querySelectorAll(\".card-news__btn-like\");\n  const spanAdd = document.querySelectorAll(\".card-news__add-to-favorite-btn\");\n  const iconLike = document.querySelectorAll(\".card-news__icon-like\");\n\n  btnLike.forEach((btn, index) => {\n    let isFavorite = false; // начальное значение\n\n    btn.addEventListener(\"click\", () => {\n      if (!isFavorite) {\n        spanAdd[index].textContent = \"Remove from favorite\";\n        iconLike[index].style.fill = \"var(--color1, #4440f7)\";\n        btn.classList.add(\"favorite\"); // добавить класс\n        isFavorite = true; // обновить значение\n      } else {\n        spanAdd[index].textContent = \"Add to favorite\";\n        iconLike[index].style.fill = \"\";\n        btn.classList.remove(\"favorite\"); // убрать класс\n        isFavorite = false; // обновить значение\n      }\n    });\n  });\n\n  btnLike.forEach((btn, index) => {\n    let isFavorite = false;\n    // let localFavorite = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n    // checkLokalArray(localFavorite);\n    btn.addEventListener(\"click\", () => {\n      if (!isFavorite) {\n        // Добавляем информацию о карточке в массив\n        favoriteCards.push({\n          headline: newArray[index].headline,\n          abstract: newArray[index].abstract,\n          category: newArray[index].category,\n          pub_date: newArray[index].pub_date,\n          photo: newArray[index].photo,\n          url: newArray[index].url,\n        });\n        // Обновляем локальное хранилище\n        localStorage.setItem(\"favoriteCards\", JSON.stringify(favoriteCards));\n        isFavorite = true;\n        //   }\n        // });\n      } else {\n        // Удаляем информацию о карточке из массива\n        const cardIndex = favoriteCards.findIndex(\n          card => card.headline === newArray[index].headline\n        );\n        if (cardIndex !== -1) {\n          favoriteCards.splice(cardIndex, 1);\n          // Обновляем локальное хранилище\n          localStorage.setItem(\"favoriteCards\", JSON.stringify(favoriteCards));\n        }\n        isFavorite = false;\n      }\n    });\n  });\n}\n\n// const cardNews = document.querySelector(\".card-news\");\n// cardNews.addEventListener(\"click\", btnAddToFavorite);\n// let newLocalStorage = [];\n\n// function isLocalEmpty() {\n//   if (JSON.parse(localStorage.getItem(\"favoriteCards\")) === null) {\n//     newLocalStorage = [];\n//     return;\n//   }\n//   newLocalStorage = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n// }\n// isLocalEmpty();\n\n// function btnAddToFavorite(event) {\n//   const btn = event.target.closest(`.card-news__btn-like`);\n//   if (!btn) return;\n//   isLocalEmpty();\n//   let title = btn.nextElementSibling.firstElementChild.textContent;\n//   if (!btn.classList.contains(\"favorite\")) {\n//     btn.classList.add(\"favorite\");\n//     addToFavoriteLocal(btn);\n//     return;\n//   }\n//   btn.classList.remove(\"favorite\");\n//   for (let i = 0; i < newLocalStorage.length; i += 1) {\n//     if (newLocalStorage[i].headline === title) {\n//       newLocalStorage.splice(i, 1);\n//     }\n//   }\n//   localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n// }\n\n// function addToFavoriteLocal(btn) {\n//   const favoriteCards = {\n//     headline: btn.nextElementSibling.firstElementChild.textContent,\n//     abstract: btn.nextElementSibling.lastElementChild.textContent,\n//     category: btn.previousElementSibling.innerHTML,\n//     pub_date:\n//       btn.nextElementSibling.nextElementSibling.firstElementChild.innerText,\n//     photo: btn.previousElementSibling.previousElementSibling.currentSrc,\n//     url: btn.nextElementSibling.nextElementSibling.lastElementChild.href,\n//     favorite: \"true\",\n//   };\n//   for (let i = 0; i < newLocalStorage.length; i += 1) {\n//     if (newLocalStorage[i].url === favoriteCards.url) return;\n//   }\n\n//   newLocalStorage.push(favoriteCards);\n//   localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n// }\n","export function markupOfCard(arr) {\n  const mark = arr\n    .map(array => {\n      return `<li class=\"card-news__item\">\n <img class=\"card-news__img\" src=\"${array.photo}\" alt=\"\" loading=\"lazy\" />\n <span class=\"card-news__categories\">${array.category}</span>\n <button class=\"card-news__btn-like\">\n   <span class=\"card-news__add-to-favorite-btn\"\n     >Add to favorite\n   </span>\n   <svg\n       class=\"card-news__icon-like\"\n       width=\"16\"\n       height=\"16\"\n       viewBox=\"0 0 37 32\"\n     >\n       <path\n         style=\"stroke: var(--color1, #4440f7)\"\n         stroke-linejoin=\"round\"\n         stroke-linecap=\"round\"\n         stroke-miterlimit=\"4\"\n         stroke-width=\"2.2857\"\n         d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"\n       ></path>\n     </svg>\n </button>\n <div class=\"card-news__wrapper\">\n   <h3 class=\"card-news__caption\">${array.headline}</h3>\n   <p class=\"card-news__text\">${array.abstract}</p>\n </div>\n <div class=\"card-news__box\">\n   <span class=\"card-news__time\">${array.pub_date}</span>\n   <a class=\"card-news__link\" target=\"_blank\" href=\"${array.url}\">Read more</a>\n </div>\n </li>`;\n    })\n    .join(\"\");\n  return mark;\n}\n","import { btnLike } from \"./btn-favorite\";\nimport { markupOfCard } from \"./markup-of-card\";\nimport { checkLokalStorage } from \"./check-local-storage\";\n\nconst dateListEl = document.querySelector(\".date-list-search\");\nconst readListSearchEl = document.querySelector(\".date-list-search\");\nconst readFormEl = document.querySelector(\".search-form\");\nconst readInputEl = document.querySelector(\".search-input\");\nconst undefinedImages = document.querySelector(\".undefined\");\n\nconst localData = JSON.parse(localStorage.getItem(\"readCards\"));\n\nfunction arrLocal() {\n  if (localData === null) {\n    undefinedImages.style.display = \"block\";\n    return;\n  }\n  return localData;\n}\n\nfunction sortDateReadMore(array = [], callback) {\n  const groupByDate = {};\n  for (const objectEl of array) {\n    const key = callback(objectEl);\n    if (groupByDate[key]) {\n      groupByDate[key].push(objectEl);\n    } else {\n      groupByDate[key] = [objectEl];\n    }\n  }\n  return groupByDate;\n}\n\nconst sortDate = sortDateReadMore(arrLocal(), objectEl => objectEl.dayRead);\nmarkupDateRead(sortDate);\nfunction markupDateRead(date) {\n  const markupBlockDate = Object.keys(date)\n    .map(key => {\n      return `<li class=\"date-list__item\">\n  <button class=\"date-list__btn\"><span class=\"date-list__btn-text\">${key}</span><span class=\"date-list__btn-block\">\n  <svg class=\"date-list__btn-icon\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n<symbol id=\"icon-Vector-2-1\" viewBox=\"0 0 50 32\">\n<path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class=\"list-news hidden\">${markupOfCard(date[key])}</ul>\n</li>`;\n    })\n    .join(\"\");\n  createMarkupLoadMore(markupBlockDate);\n}\n\nconst dateListItem = document.querySelectorAll(\".date-list__item\");\ndateListItem[0].classList.add(\"hidden\");\n\ndateListItem.forEach(element => {\n  btnLike(localData);\n  let spanAdd = \"\";\n  let hiddenSpan = \"\";\n  let localFavorite = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n  let checkFavorite = checkLokalStorage(element, localFavorite);\n  if (checkFavorite) {\n    hiddenSpan = \"favorite\";\n    spanAdd = \"Remove from favorite\";\n  } else {\n    spanAdd = \"Add to favorite\";\n  }\n});\n\ndateListEl.addEventListener(\"click\", event => {\n  const btn = event.target.closest(`.date-list__btn`);\n  if (!btn) return;\n\n  const iconDate = btn.querySelector(\".date-list__btn-block\");\n  const listNews = document.querySelector(\".list-news\");\n  if (listNews.classList.contains(\"hidden\")) {\n    listNews.classList.remove(\"hidden\");\n    iconDate.classList.add(\"turn\");\n  } else {\n    listNews.classList.add(\"hidden\");\n    iconDate.classList.remove(\"turn\");\n  }\n  btn.nextElementSibling.classList.toggle(\"hidden\");\n  return;\n});\n\nfunction createMarkupLoadMore(markupBlockDate) {\n  dateListEl.innerHTML = markupBlockDate;\n}\n\nreadFormEl.addEventListener(\"submit\", form);\n\nlet newArrForMarkupSearch = [];\nfunction form(event) {\n  event.preventDefault();\n\n  if (readInputEl.value.trim() !== \"\") {\n    dateListEl.classList.add(\"hidden\");\n    undefinedImages.style.display = \"block\";\n    readListSearchEl.classList.add(\"hidden\");\n    newArrForMarkupSearch = [];\n    return;\n  } else {\n    dateListEl.classList.remove(\"hidden\");\n    undefinedImages.style.display = \"none\";\n    readListSearchEl.classList.remove(\"hidden\");\n  }\n\n  const inputValue = readInputEl.value.toLowerCase();\n\n  for (let i = 0; i < localData.length; i += 1) {\n    let iteration = localData[i];\n    if (\n      iteration.abstract.toLowerCase().includes(inputValue) ||\n      iteration.headline.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase() === inputValue\n    ) {\n      newArrForMarkupSearch.push(iteration);\n    }\n  }\n  if (newArrForMarkupSearch.length === 0) {\n    dateListEl.classList.add(\"hidden\");\n    readListSearchEl.classList.add(\"hidden\");\n    undefinedImages.style.display = \"block\";\n    newArrForMarkupSearch = [];\n    return;\n  }\n  undefinedImages.style.display = \"none\";\n  dateListEl.classList.remove(\"hidden\");\n  readListSearchEl.classList.remove(\"hidden\");\n\n  const markupBlockReadSearch = markupOfCard(newArrForMarkupSearch);\n\n  createMarkupLoad(markupBlockReadSearch);\n}\n\nfunction createMarkupLoad(markupBlockDate) {\n  readListSearchEl.innerHTML = markupBlockDate;\n  newArrForMarkupSearch = [];\n}\n"],"names":["$0bcead4044120b9d$export$6fa34716b1f69ee4","elem","localArr","i","length","url","$64d3ad10ca1d7ccd$export$57a5be14e400305a","$64d3ad10ca1d7ccd$export$71556dfd7ea0c273","newArray","btnLike","document","querySelectorAll","spanAdd","iconLike","forEach","btn","index","isFavorite","addEventListener","textContent","style","fill","classList","remove","add","cardIndex","findIndex","card","headline","splice","localStorage","setItem","JSON","stringify","push","abstract","category","pub_date","photo","$5e89b81646f0a520$export$2555d8523cd97054","arr","map","array","join","$04f4de9888071cab$var$dateListEl","querySelector","$04f4de9888071cab$var$readListSearchEl","$04f4de9888071cab$var$readFormEl","$04f4de9888071cab$var$readInputEl","$04f4de9888071cab$var$undefinedImages","$04f4de9888071cab$var$localData","parse","getItem","$04f4de9888071cab$var$sortDate","callback","groupByDate","objectEl","key","$04f4de9888071cab$var$sortDateReadMore","display","$04f4de9888071cab$var$arrLocal","dayRead","markupBlockDate","date","Object","keys","innerHTML","$04f4de9888071cab$var$dateListItem","element","hiddenSpan","event","target","closest","iconDate","listNews","contains","nextElementSibling","toggle","preventDefault","value","trim","$04f4de9888071cab$var$newArrForMarkupSearch","inputValue","toLowerCase","iteration","includes","$04f4de9888071cab$var$createMarkupLoad"],"version":3,"file":"read.7ffc6944.js.map"}